name: Java CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1

    - name: Configuring Amazon Corretto Java
      run: |
            wget https://d3pxv6yz143wms.cloudfront.net/8.232.09.1/java-1.8.0-amazon-corretto-jdk_8.232.09-1_amd64.deb
            sudo apt-get update 
            sudo apt-get install java-common
            sudo dpkg --install java-1.8.0-amazon-corretto-jdk_8.232.09-1_amd64.deb
            sudo update-java-alternatives --set /usr/lib/jvm/java-1.8.0-amazon-corretto
            java -version
            sudo update-alternatives --config java 
        
    - name: Build with Maven
      run: |
           mvn -B package --file pom.xml
           
    - name: Deploy to Github Package Registry
      
      run: |
          
          mvn deploy -Dregistry=https://maven.pkg.github.com/AishwaryaPedemane -Dtoken=$GITHUB_TOKEN
           
           
      
      
    
    

